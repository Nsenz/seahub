{"version":3,"sources":["shared-file-view-sdoc.js","_i18n/i18n-sdoc-editor.js"],"names":["window","app","config","serviceURL","siteRoot","pageOptions","username","filePerm","shared","repoID","filePath","fileName","rawPath","assetsUrl","seafile","docName","docPath","serviceUrl","docPerm","historyURL","Utils","generateHistoryURL","ReactDom","render","i18n","fallback","document","getElementById","lang","use","Backend","LanguageDetector","initReactI18next","init","lng","fallbackLng","ns","defaultNS","whitelist","backend","loadPath","mediaUrl","debug","interpolation","escapeValue","load","react","wait"],"mappings":"0KAAA,mFAMsC,EAELA,OAAOC,IAAIC,OAApCC,EAAU,EAAVA,WAAYC,EAAQ,EAARA,SAAQ,EACGJ,OAAOC,IAAII,YAAlCC,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAQ,EACiCP,OAAOQ,OAAOH,YAAjEI,EAAM,EAANA,OAAQC,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAUC,EAAO,EAAPA,QAASC,EAAS,EAATA,UAE7Cb,OAAOc,QAAU,CACfL,SACAG,QAASA,EACTG,QAASJ,EACTK,QAASN,EACTO,WAAYd,EACZG,WACAF,WACAc,QAASX,EACTY,WAAYC,IAAMC,mBAAmBjB,EAAUK,EAAQC,GACvDG,aAGFS,IAASC,OACP,cAAC,IAAe,CAACC,KAAOA,IAAM,SAC5B,cAAC,WAAQ,CAACC,SAAU,cAAC,IAAO,IAAI,SAC9B,cAAC,IAAY,QAGjBC,SAASC,eAAe,W,mCC/B1B,8CAMMC,EAAO5B,OAAOC,IAAII,YAAYuB,KAEpCJ,IACGK,IAAIC,KACJD,IAAIE,KACJF,IAAIG,KACJC,KAAK,CACJC,IAAKN,EACLO,YAAa,KACbC,GAAI,CAAC,eACLC,UAAW,eAEXC,UAAW,CAAC,KAAM,QAAS,KAAM,KAAM,KAAM,KAAM,QAAS,QAAS,MAErEC,QAAS,CACPC,SAAUC,KAAW,+CAIvBC,OAAO,EAEPC,cAAe,CACbC,aAAa,GAIfC,KAAM,cAENC,MAAO,CACLC,MAAM,KAIGvB,MAAI,C","file":"static/js/sharedFileViewSdoc.chunk.js","sourcesContent":["import React, { Suspense } from 'react';\nimport ReactDom from 'react-dom';\nimport { SimpleViewer } from '@seafile/sdoc-editor';\nimport { I18nextProvider } from 'react-i18next';\nimport i18n from './_i18n/i18n-sdoc-editor';\nimport Loading from './components/loading';\nimport { Utils } from './utils/utils';\n\nconst { serviceURL, siteRoot } = window.app.config;\nconst { username, filePerm } = window.app.pageOptions;\nconst { repoID, filePath, fileName, rawPath, assetsUrl } = window.shared.pageOptions;\n\nwindow.seafile = {\n  repoID,\n  rawPath: rawPath,\n  docName: fileName,  // required\n  docPath: filePath,\n  serviceUrl: serviceURL,\n  username,\n  siteRoot,\n  docPerm: filePerm,\n  historyURL: Utils.generateHistoryURL(siteRoot, repoID, filePath),\n  assetsUrl,\n};\n\nReactDom.render(\n  <I18nextProvider i18n={ i18n } >\n    <Suspense fallback={<Loading />}>\n      <SimpleViewer />\n    </Suspense>\n  </I18nextProvider>,\n  document.getElementById('wrapper')\n);\n","import i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport { mediaUrl } from '../utils/constants';\n\nconst lang = window.app.pageOptions.lang;\n\ni18n\n  .use(Backend)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    lng: lang,\n    fallbackLng: 'en',\n    ns: ['sdoc-editor'],\n    defaultNS: 'translations',\n\n    whitelist: ['en', 'zh-CN', 'fr', 'de', 'cs', 'es', 'es-AR', 'es-MX', 'ru'],\n\n    backend: {\n      loadPath: mediaUrl + 'sdoc-editor/locales/{{ lng }}/{{ ns }}.json',\n      // loadPath: '/media/locales/{{lng}}/{{ns}}.json',\n    },\n\n    debug: false, // console log if debug: true\n\n    interpolation: {\n      escapeValue: false, // not needed for react!!\n    },\n\n\n    load: 'currentOnly',\n\n    react: {\n      wait: true,\n    }\n  });\n\nexport default i18n;\n"],"sourceRoot":""}